<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>p13-dsi-ikea</title><meta name="description" content="Documentation for p13-dsi-ikea"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">p13-dsi-ikea</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>p13-dsi-ikea</h2></div><div class="tsd-panel tsd-typography"><p><a href="https://classroom.github.com/a/CaXtHsbh"><img src="https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg" alt="Review Assignment Due Date"></a></p>
<p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct13-dsikea-api-groupn?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct13-dsikea-api-groupn/badge.svg?branch=main" alt="Coverage Status"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct13-dsikea-api-groupn/actions/workflows/build.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct13-dsikea-api-groupn/actions/workflows/build.yml/badge.svg" alt="Sonar-Cloud"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct13-dsikea-api-groupn/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct13-dsikea-api-groupn/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a></p>
<a id="md:informe-práctica-13---dsikea-api-rest-con-nodeexpress" class="tsd-anchor"></a><h1><a href="#md:informe-práctica-13---dsikea-api-rest-con-nodeexpress">Informe Práctica 13 - DSIkea: API REST con Node/Express</a></h1><p><img src="images/api-rest-image.png" alt="Imagen API-REST"></p>
<a id="md:manuel-david-gómez-alonso" class="tsd-anchor"></a><h2><a href="#md:manuel-david-gómez-alonso">Manuel David Gómez Alonso</a></h2><blockquote>
<p><a href="mailto:alu0101347301@ull.edu.es">alu0101347301@ull.edu.es</a></p>
</blockquote>
<a id="md:daniel-bensa-expósito-paz" class="tsd-anchor"></a><h2><a href="#md:daniel-bensa-expósito-paz">Daniel Bensa Expósito Paz</a></h2><blockquote>
<p><a href="mailto:alu0101481876@ull.edu.es">alu0101481876@ull.edu.es</a></p>
</blockquote>
<a id="md:alejandro-javier-aguiar-pérez" class="tsd-anchor"></a><h2><a href="#md:alejandro-javier-aguiar-pérez">Alejandro Javier Aguiar Pérez</a></h2><blockquote>
<p><a href="mailto:alu0101487168@ull.edu.es">alu0101487168@ull.edu.es</a></p>
</blockquote>
<a id="md:índice" class="tsd-anchor"></a><h2><a href="#md:índice">Índice</a></h2><ol>
<li><a href="#md:resumen-proyecto">Resumen Proyecto</a></li>
<li><a href="#md:modelado-de-objetos-con-mongoose">Modelado de objetos con Mongoose</a><ul>
<li><a href="#md:modelo-customer">Modelo Customer</a></li>
<li><a href="#md:modelo-provider">Modelo Provider</a></li>
<li><a href="#md:modelo-furniture">Modelo Furniture</a></li>
<li><a href="#md:modelo-transaction">Modelo Transaction</a></li>
</ul>
</li>
<li><a href="#md:rutas">Rutas</a><ul>
<li><a href="#md:/customers">/customers</a></li>
<li><a href="#md:/providers">/providers</a></li>
<li><a href="#md:/furnitures">/furnitures</a></li>
<li><a href="#md:/transactions">/transactions</a></li>
</ul>
</li>
<li><a href="#md:test-sobre-el-api">Test sobre el API</a></li>
<li><a href="#md:despliegue-api">Despliegue API</a><ul>
<li><a href="#md:mongodb-atlas">MongoDB Atlas</a></li>
<li><a href="#md:render">Render</a></li>
</ul>
</li>
<li><a href="#md:peticiones">Peticiones</a></li>
<li><a href="#md:conclusiones-del-proyecto">Conclusiones del proyecto</a></li>
<li><a href="#md:referencias">Referencias</a></li>
</ol>
<a id="md:resumen-proyecto" class="tsd-anchor"></a><h2><a href="#md:resumen-proyecto">Resumen Proyecto</a></h2><p>El proyecto consiste en desarrollar una <strong>API REST</strong> para gestionar transacciones de muebles utilizando <strong>Node.js</strong>, <strong>Express</strong>, <strong>Mongoose</strong> y <strong>MongoDB</strong>. La API debe permitir a clientes y proveedores realizar <strong>transacciones de compra y venta</strong> de muebles, además de llevar a cabo operaciones <strong>CRUD (Crear, Leer, Actualizar, Borrar)</strong> para gestionar <strong>clientes</strong>, <strong>proveedores</strong>, <strong>muebles</strong> y <strong>transacciones</strong>.</p>
<p>En cuanto a los requisitos específicos del API, se detallan las rutas y operaciones que deben ser implementadas:</p>
<ul>
<li><strong>Clientes (/customers)</strong>: Se deben poder realizar operaciones CRUD para gestionar clientes. La lectura o consulta de clientes puede realizarse por <strong>NIF</strong> o por <strong>identificador único</strong>. Se deben implementar <strong>siete manejadores</strong> diferentes para esta ruta.</li>
<li><strong>Proveedores (/providers)</strong>: Debe ser posible realizar operaciones CRUD para gestionar proveedores. La lectura o consulta de proveedores puede hacerse por <strong>CIF</strong> o por <strong>identificador único</strong>. También se requieren <strong>siete manejadores</strong> diferentes para esta ruta.</li>
<li><strong>Muebles (/furnitures)</strong>: Se deben implementar operaciones CRUD para gestionar muebles. La lectura o consulta de muebles puede hacerse por <strong>diferentes campos</strong>, como nombre, descripción o color, o por identificador único. Se necesitan <strong>siete manejadores</strong> diferentes para esta ruta.</li>
<li><strong>Transacciones (/transactions)</strong>: Debe ser posible crear, leer, actualizar y borrar transacciones con clientes y/o proveedores. Una transacción incluye información del <strong>cliente/proveedor</strong> y de los <strong>muebles</strong> involucrados, además de otros datos como fecha, hora e importe. Se deben manejar situaciones como la existencia previa de clientes/proveedores o muebles, la <strong>actualización de stock</strong> en caso de compra a proveedores, entre otros aspectos complejos. Se requieren <strong>seis manejadores</strong> diferentes para esta ruta.</li>
</ul>
<p>También se debe de comprobar la funcionalidad del API elaborando las necesarias <strong>pruebas unitarias</strong>, y una vez concluida la correcta funcionalidad del API, desplegar la misma haciendo uso de <strong>MongoDB Atlas</strong> como base de datos y <strong>Render</strong>.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:modelado-de-objetos-con-mongoose" class="tsd-anchor"></a><h2><a href="#md:modelado-de-objetos-con-mongoose">Modelado de objetos con Mongoose</a></h2><p>En este proyecto, se han creado varios modelos de objetos utilizando <strong>Mongoose</strong> para la interacción con la base de datos <strong>MongoDB</strong>. A continuación se detallan los modelos implementados:</p>
<a id="md:modelo-customer" class="tsd-anchor"></a><h3><a href="#md:modelo-customer">Modelo Customer</a></h3><p>El modelo <em>Customer</em> es una representación de un <strong>cliente</strong> en la base de datos.</p>
<p>Se crea una interfaz: <em>ICustomer</em> que se extiende de la interfaz <em>Document</em> de <strong>Mongoose</strong>, lo que significa que una instancia de <em>ICustomer</em> es un <strong>documento</strong> de <strong>Mongoose</strong> que puede ser guardado en la base de datos. La interfaz <em>ICustomer</em> define los siguientes campos:</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">ICustomer</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Document</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">contact</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">email</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">postalCode</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">dni</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>El esquema <em>customerSchema</em> define cómo se guardan los datos en la base de datos de <strong>MongoDB</strong>. Define los mismos campos que la interfaz <em>ICustomer</em>, pero también especifica el <strong>tipo de datos</strong> de cada campo, si el campo es <strong>requerido</strong>, y cualquier <strong>validación</strong> que deba realizarse en el campo.</p>
<p>La <strong>validación</strong> se realiza utilizando la biblioteca <strong>validator</strong>. Por ejemplo, el campo <em>email</em> utiliza <em>validator.isEmail(value)</em> para verificar si el valor es un correo electrónico válido. Además se devuleve un mensaje de error especificando porque la creación del objeto ha fallado.</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">customerSchema</span><span class="hl-1">: </span><span class="hl-3">Schema</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Schema</span><span class="hl-1">&lt;</span><span class="hl-3">ICustomer</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-7">// Otros atributos...</span><br/><span class="hl-1">  </span><span class="hl-4">email:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">String</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">required:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">validate:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">validator</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-4">validator</span><span class="hl-1">.</span><span class="hl-6">isEmail</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-8">&quot;Invalid email&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">// Otros atributos</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p>Por último comentar la <strong>validación</strong> del campo <em>dni</em> que identifica al <strong>cliente</strong> y por lo tanto debe ser única, para comprobar el dni se usa la fórmula definida para comprobar que la última letra coincida con los dígitos previos.</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">customerSchema</span><span class="hl-1">: </span><span class="hl-3">Schema</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Schema</span><span class="hl-1">&lt;</span><span class="hl-3">ICustomer</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-4">dni:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">String</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">unique:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">required:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">validate:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">validator</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">numeroDNI</span><span class="hl-1"> = </span><span class="hl-6">parseInt</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-6">slice</span><span class="hl-1">(</span><span class="hl-9">0</span><span class="hl-1">, -</span><span class="hl-9">1</span><span class="hl-1">), </span><span class="hl-9">10</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">letraDNI</span><span class="hl-1"> = </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-6">slice</span><span class="hl-1">(-</span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">letraDNI</span><span class="hl-1"> === </span><span class="hl-6">calcularLetraDNI</span><span class="hl-1">(</span><span class="hl-4">numeroDNI</span><span class="hl-1">);</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-8">&quot;Invalid DNI&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p>Donde <em>calcularLetraDNI(numeroDNI)</em> es una llamada a la función auxiliar que calcula la <strong>última letra</strong> en base a los dígitos anteriores.</p>
<pre><code class="language-ts"><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">calcularLetraDNI</span><span class="hl-1">(</span><span class="hl-4">numeroDNI</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">letras</span><span class="hl-1"> = </span><span class="hl-8">&quot;TRWAGMYFPDXBNJZSQVHLCKE&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">resto</span><span class="hl-1"> = </span><span class="hl-4">numeroDNI</span><span class="hl-1"> % </span><span class="hl-9">23</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">letras</span><span class="hl-1">.</span><span class="hl-6">charAt</span><span class="hl-1">(</span><span class="hl-4">resto</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:modelo-provider" class="tsd-anchor"></a><h3><a href="#md:modelo-provider">Modelo Provider</a></h3><p>El modelo <em>Provider</em> es una representación de un <strong>proveedor</strong> en la base de datos. Es muy similar a el modelo <em>Customer</em> pero cambiando el atributo <em>dni</em>, que se resume en ocho dígitos y una letra final mayúscula, por el atributo <em>cif</em>, que empieza por una letra mayúscula seguida de 8 digitos.</p>
<p>Se crea una interfaz <em>IProvider</em> que se extiende de la interfaz <em>Document</em> de <strong>Mongoose</strong>, lo que significa que una instancia de <em>IProvider</em> es un <strong>documento</strong> de <strong>Mongoose</strong> que puede ser guardado en la base de datos. La interfaz <em>IProvider</em> define los siguientes campos:</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">IProvider</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Document</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">contact</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">postalCode</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">cif</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>El esquema <em>providerSchema</em> define cómo se guardan los datos en la base de datos de <strong>MongoDB</strong>. Define los mismos campos que la interfaz <em>IProvider</em>, pero también especifica el <strong>tipo de datos</strong> de cada campo, si el campo es <strong>requerido</strong>, y cualquier <strong>validación</strong> que deba realizarse en el campo.</p>
<p>La <strong>validación</strong> es este caso del campo <em>cif</em> del que hablabamos anteriormente se debe verificar de manera especial al igual que el campo <em>dni</em> de un <em>customerSchema</em>. Se debe de tener en cuenta que el primer dígito del <em>cif</em> no se elige de manera aleatoria y que depende de los digitos posteriores, para ello usamos una constante de <strong>letras de control</strong> permitidas y comprobamos que todo coincida como debería.</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">providerSchema</span><span class="hl-1">: </span><span class="hl-3">Schema</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Schema</span><span class="hl-1">&lt;</span><span class="hl-3">IProvider</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-7">// Otros atributos</span><br/><span class="hl-1">  </span><span class="hl-4">cif:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">String</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">unique:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">required:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">validate:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">validator</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">control</span><span class="hl-1"> = </span><span class="hl-8">&quot;JABCDEFGHI&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">digit</span><span class="hl-1"> = </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-6">slice</span><span class="hl-1">(</span><span class="hl-9">1</span><span class="hl-1">, -</span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">letter</span><span class="hl-1"> = </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-6">charAt</span><span class="hl-1">(</span><span class="hl-9">0</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">controlDigit</span><span class="hl-1"> = </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-6">slice</span><span class="hl-1">(-</span><span class="hl-9">1</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">sum</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-4">i</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1"> &lt; </span><span class="hl-4">digit</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1">; </span><span class="hl-4">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">          </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">num</span><span class="hl-1"> = </span><span class="hl-6">parseInt</span><span class="hl-1">(</span><span class="hl-4">digit</span><span class="hl-1">.</span><span class="hl-6">charAt</span><span class="hl-1">(</span><span class="hl-4">i</span><span class="hl-1">), </span><span class="hl-9">10</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-4">i</span><span class="hl-1"> % </span><span class="hl-9">2</span><span class="hl-1"> === </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-4">sum</span><span class="hl-1"> += [</span><span class="hl-9">0</span><span class="hl-1">, </span><span class="hl-9">2</span><span class="hl-1">, </span><span class="hl-9">4</span><span class="hl-1">, </span><span class="hl-9">6</span><span class="hl-1">, </span><span class="hl-9">8</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">, </span><span class="hl-9">3</span><span class="hl-1">, </span><span class="hl-9">5</span><span class="hl-1">, </span><span class="hl-9">7</span><span class="hl-1">, </span><span class="hl-9">9</span><span class="hl-1">][</span><span class="hl-4">num</span><span class="hl-1">];</span><br/><span class="hl-1">          } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">sum</span><span class="hl-1"> += </span><span class="hl-4">num</span><span class="hl-1">;</span><br/><span class="hl-1">          }</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">calculatedControlDigit</span><span class="hl-1"> = </span><span class="hl-4">sum</span><span class="hl-1"> % </span><span class="hl-9">10</span><span class="hl-1"> === </span><span class="hl-9">0</span><span class="hl-1"> ? </span><span class="hl-9">0</span><span class="hl-1"> : </span><span class="hl-9">10</span><span class="hl-1"> - (</span><span class="hl-4">sum</span><span class="hl-1"> % </span><span class="hl-9">10</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> (</span><br/><span class="hl-1">          </span><span class="hl-10">/</span><span class="hl-11">^</span><span class="hl-12">[</span><span class="hl-10">ABCDEFGHJNPQRSUVW</span><span class="hl-12">]</span><span class="hl-13">{1}</span><span class="hl-10">/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">letter</span><span class="hl-1">) &amp;&amp;</span><br/><span class="hl-1">          </span><span class="hl-4">digit</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> === </span><span class="hl-9">7</span><span class="hl-1"> &amp;&amp;</span><br/><span class="hl-1">          (</span><span class="hl-4">controlDigit</span><span class="hl-1"> === </span><span class="hl-4">calculatedControlDigit</span><span class="hl-1">.</span><span class="hl-6">toString</span><span class="hl-1">() ||</span><br/><span class="hl-1">            </span><span class="hl-4">controlDigit</span><span class="hl-1"> === </span><span class="hl-4">control</span><span class="hl-1">.</span><span class="hl-6">charAt</span><span class="hl-1">(</span><span class="hl-4">calculatedControlDigit</span><span class="hl-1">))</span><br/><span class="hl-1">        );</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-8">&quot;Invalid CIF&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">// Otros atributos</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:modelo-furniture" class="tsd-anchor"></a><h3><a href="#md:modelo-furniture">Modelo Furniture</a></h3><p>El modelo <em>Furniture</em> es una representación de un <strong>mueble</strong> en la base de datos.</p>
<p>Se crea la interfaz <em>IFurniture</em> que se extiende de la interfaz <em>Document</em> de <strong>Mongoose</strong>, lo que significa que una instancia de <em>IFurniture</em> es un documento de <strong>Mongoose</strong> que puede ser guardado en la base de datos. La interfaz <em>IFurniture</em> define los siguientes campos:</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">IFurniture</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Document</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">description</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">material</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">dimensions</span><span class="hl-1">: </span><span class="hl-3">Dimension</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">price</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">quantity</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Donde el tipo <em>Dimension</em> es un objeto que representa las <strong>dimensiones</strong> de un mueble. Incluye los campos <em>length</em>, <em>width</em> y <em>height</em>, todos los cuales son números.</p>
<pre><code class="language-ts"><span class="hl-2">type</span><span class="hl-1"> </span><span class="hl-3">Dimension</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">length</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">width</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">height</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">};</span>
</code><button>Copy</button></pre>
<p>El esquema <em>furnitureSchema</em> define cómo se guardan los datos en la base de datos de <strong>MongoDB</strong>. Define los mismos campos que la interfaz <em>IFurniture</em>, pero también especifica el <strong>tipo de datos</strong> de cada campo, si el campo es <strong>requerido</strong>, y cualquier <strong>validación</strong> que deba realizarse en el campo, que en el caso de este <em>schema</em> se necesita solamente en el campo <em>quantity</em>, para que la cantidad nunca sea <strong>menor que cero</strong>. También se usan enumerados para algunos campos. Por ejemplo, el campo material es un string que debe ser uno de los siguientes: <em>&quot;wood&quot;</em>, <em>&quot;metal&quot;</em>, <em>&quot;plastic&quot;</em>, <em>&quot;glass&quot;</em>, <em>&quot;fabric&quot;</em>, <em>&quot;leather&quot;</em>.</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">furnitureSchema</span><span class="hl-1">: </span><span class="hl-3">Schema</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Schema</span><span class="hl-1">&lt;</span><span class="hl-3">IFurniture</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-7">// Otros atributos</span><br/><span class="hl-1">  </span><span class="hl-4">material:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">String</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">enum:</span><span class="hl-1"> [</span><span class="hl-8">&quot;wood&quot;</span><span class="hl-1">, </span><span class="hl-8">&quot;metal&quot;</span><span class="hl-1">, </span><span class="hl-8">&quot;plastic&quot;</span><span class="hl-1">, </span><span class="hl-8">&quot;glass&quot;</span><span class="hl-1">, </span><span class="hl-8">&quot;fabric&quot;</span><span class="hl-1">, </span><span class="hl-8">&quot;leather&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">required:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">// Otros atributos</span><br/><span class="hl-1">  </span><span class="hl-4">quantity:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">Number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">required:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">validate:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">validator</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> (</span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> &gt;= </span><span class="hl-9">0</span><span class="hl-1">;</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-4">message:</span><span class="hl-1"> </span><span class="hl-8">&quot;Quantity must be a non-negative number&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">// Otros atributos</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:modelo-transaction" class="tsd-anchor"></a><h3><a href="#md:modelo-transaction">Modelo Transaction</a></h3><p>El modelo <em>Transaction</em> es una representación de una <strong>transacción</strong> en la base de datos. El modelo <em>Transaction</em> trabaja en coordinación con todos los demás modelos vistos previamente: <em>customerSchema</em>, <em>providerSchema</em>, <em>furnitureSchema</em>.</p>
<p>Se crea interfaz <em>ITransaction</em> que se extiende de la interfaz <em>Document</em> de <strong>Mongoose</strong>, lo que significa que una instancia de <em>ITransaction</em> es un documento de <strong>Mongoose</strong> que puede ser guardado en la base de datos. La interfaz <em>ITransaction</em> define los siguientes campos:</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">ITransaction</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Document</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">type</span><span class="hl-1">: </span><span class="hl-8">&quot;Purchase&quot;</span><span class="hl-1"> | </span><span class="hl-8">&quot;Sale&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">furniture</span><span class="hl-1">: </span><span class="hl-3">FurnitureTuple</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-4">customer</span><span class="hl-1">?: </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">customerSchema</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">provider</span><span class="hl-1">?: </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">providerSchema</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">date</span><span class="hl-1">: </span><span class="hl-3">Date</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">price</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Donde el tipo <em>FurnitureTuple</em> es un objeto que representa un par de <strong>mueble</strong> y <strong>cantidad</strong>. Incluye los campos <em>furniture</em> y <em>quantity</em>.</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">FurnitureTuple</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">furniture</span><span class="hl-1">: </span><span class="hl-2">typeof</span><span class="hl-1"> </span><span class="hl-4">furnitureSchema</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">quantity</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>El esquema <em>transactionSchema</em> define cómo se guardan los datos en la base de datos de <strong>MongoDB</strong>. Define los mismos campos que la interfaz <em>ITransaction</em>, pero también especifica el <strong>tipo de datos</strong> de cada campo, si el campo es <strong>requerido</strong>, y cualquier <strong>validación</strong> que deba realizarse en el campo.</p>
<p>Por ejemplo, el campo type es un <em>string</em> que debe ser <em>&quot;Purchase&quot;</em> o <em>&quot;Sale&quot;</em>. El campo <em>furniture</em> es un array de objetos, cada uno de los cuales debe tener un campo <em>furniture</em> que es un <em>ObjectId</em> que hace <strong>referencia a un documento</strong> de <em>Furniture</em>, y un campo <em>quantity</em> que es un número. No se usa el módulo validator ya que los atributos usados son enumerados en el caso de <em>type</em>, o bien <strong>referencias a otros modelos</strong>, o tienen pensado crearse de manera automatica por el programa como <em>date</em> y <em>price</em> y por lo tanto no debería de estar sujeto a errores.</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">transactionSchema</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Schema</span><span class="hl-1">&lt;</span><span class="hl-3">ITransaction</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-4">type:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">String</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">enum:</span><span class="hl-1"> [</span><span class="hl-8">&quot;Purchase&quot;</span><span class="hl-1">, </span><span class="hl-8">&quot;Sale&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">required:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">furniture:</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">furniture:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">Schema</span><span class="hl-1">.</span><span class="hl-4">Types</span><span class="hl-1">.</span><span class="hl-4">ObjectId</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">ref:</span><span class="hl-1"> </span><span class="hl-8">&quot;Furniture&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">required:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-4">quantity:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">Number</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">required:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-4">customer:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">Schema</span><span class="hl-1">.</span><span class="hl-4">Types</span><span class="hl-1">.</span><span class="hl-4">ObjectId</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">ref:</span><span class="hl-1"> </span><span class="hl-8">&quot;Customer&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">provider:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">Schema</span><span class="hl-1">.</span><span class="hl-4">Types</span><span class="hl-1">.</span><span class="hl-4">ObjectId</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">ref:</span><span class="hl-1"> </span><span class="hl-8">&quot;Provider&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">date:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">Date</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">required:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">price:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">Number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">required:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:rutas" class="tsd-anchor"></a><h2><a href="#md:rutas">Rutas</a></h2><p>Las <strong>rutas</strong> en la <strong>API</strong> definen los <strong>puntos finales</strong> a los que los clientes pueden enviar <strong>peticiones</strong> para interactuar con la aplicación. Cada <strong>ruta</strong> está asociada con una función específica de la <strong>API</strong>. En la <strong>API</strong>, se tienen <strong>rutas</strong> para cuatro recursos diferentes: <em>Customer</em>, <em>Provider</em>, <em>Furniture</em> y <em>Transaction</em>. Cada uno de estos recursos tienen rutas para las operaciones <strong>CRUD (Crear, Leer, Actualizar, Eliminar)</strong>.</p>
<a id="md:customers" class="tsd-anchor"></a><h3><a href="#md:customers">/customers</a></h3><p>Proporciona funcionalidades para administrar clientes en el sistema.</p>
<a id="md:get-customers" class="tsd-anchor"></a><h4><a href="#md:get-customers">GET /customers</a></h4><p>Recupera información sobre clientes. Si se proporciona un número de identificación (DNI) en el query, devuelve los detalles del cliente correspondiente. Sin embargo, si no se proporciona ningún DNI, devuelve una lista de todos los clientes registrados.</p>
<a id="md:get-customersid" class="tsd-anchor"></a><h4><a href="#md:get-customersid">GET /customers/:id</a></h4><p>Este endpoint en un sistema de gestión de clientes, permite a los usuarios obtener detalles específicos sobre un cliente en particular.</p>
<p>La estructura del endpoint está diseñada para manejar solicitudes GET que llegan a la ruta /customers/:id, donde :id es un parámetro dinámico que representa el ID del cliente que se desea consultar.</p>
<a id="md:post-customers" class="tsd-anchor"></a><h4><a href="#md:post-customers">POST /customers</a></h4><p>Permite agregar un nuevo cliente al sistema. Se requieren varios campos, incluido el nombre, contacto, correo electrónico, código postal y DNI. Antes de agregar un nuevo cliente, se verifica que el DNI no esté duplicado en la base de datos.</p>
<a id="md:patch-customers" class="tsd-anchor"></a><h4><a href="#md:patch-customers">PATCH /customers</a></h4><p>Actualiza la información de un cliente según su DNI. Se espera que el DNI se proporcione en el cuerpo de la solicitud. Solo se permiten actualizaciones de nombre, contacto, código postal y DNI.</p>
<a id="md:patch-customersid" class="tsd-anchor"></a><h4><a href="#md:patch-customersid">PATCH /customers/:id</a></h4><p>Actualiza la información de un cliente según su DNI. En este caso, :id es un marcador de posición para el identificador único del cliente al que se refiere la solicitud. Solo se permiten actualizaciones de nombre, contacto, código postal y DNI en relacion a ese id.</p>
<a id="md:delete-customers" class="tsd-anchor"></a><h4><a href="#md:delete-customers">DELETE /customers</a></h4><p>Elimina un cliente según su DNI. Se espera que el DNI se proporcione en el cuerpo de la solicitud.</p>
<a id="md:delete-customersid" class="tsd-anchor"></a><h4><a href="#md:delete-customersid">DELETE /customers/:id</a></h4><p>Elimina un cliente según su DNI. En este caso, :id es un marcador de posición para el identificador único del cliente al que se refiere la solicitud. Por lo que se eliminará el customer identificado con esa id.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:providers" class="tsd-anchor"></a><h3><a href="#md:providers">/providers</a></h3><p>Proporciona funcionalidades para administrar provedores en el sistema.</p>
<a id="md:get-providers" class="tsd-anchor"></a><h4><a href="#md:get-providers">GET /providers:</a></h4><p>Obtener todos los proveedores o para buscar proveedores por su CIF. Si se proporciona un CIF en los parámetros de consulta, se realiza una búsqueda en la base de datos utilizando ese CIF y se devuelve el proveedor correspondiente si se encuentra. Si no se proporciona un CIF en los parámetros de consulta, se devuelven todos los proveedores. Se manejan los casos en los que no se encuentran proveedores o hay errores de servidor.</p>
<a id="md:get-providersid" class="tsd-anchor"></a><h4><a href="#md:get-providersid">GET /providers/:id:</a></h4><p>Obtener un proveedor específico por su ID. El ID del proveedor se proporciona como parte de la URL. Se busca el proveedor en la base de datos utilizando el ID proporcionado y se devuelve si se encuentra. Se manejan los casos en los que no se encuentra el proveedor o hay errores de servidor.</p>
<a id="md:post-providers" class="tsd-anchor"></a><h4><a href="#md:post-providers">POST /providers:</a></h4><p>Crear un nuevo proveedor. Los datos del proveedor se esperan en el cuerpo de la solicitud en formato JSON. Se crea un nuevo proveedor con los datos proporcionados y se manejan los casos en los que ya existe un proveedor con el mismo CIF.</p>
<a id="md:patch-providers" class="tsd-anchor"></a><h4><a href="#md:patch-providers">PATCH /providers:</a></h4><p>Actualizar información sobre uno o varios proveedores basándose en el CIF proporcionado en los parámetros de consulta. Se manejan los casos en los que no se proporcionan parámetros de consulta o la actualización no está permitida.</p>
<a id="md:patch-providersid" class="tsd-anchor"></a><h4><a href="#md:patch-providersid">PATCH /providers/:id:</a></h4><p>Actualizar información sobre un proveedor específico identificado por su ID. El ID del proveedor se proporciona como parte de la URL. Se manejan los casos en los que no se pueden realizar ciertas actualizaciones y se manejan los casos en los que no se encuentra el proveedor.</p>
<a id="md:delete-providers" class="tsd-anchor"></a><h4><a href="#md:delete-providers">DELETE /providers:</a></h4><p>Eliminar uno o varios proveedores basándose en el CIF proporcionado en los parámetros de consulta. Se manejan los casos en los que no se proporciona un CIF en los parámetros de consulta o el proveedor no se encuentra.</p>
<a id="md:delete-providersid" class="tsd-anchor"></a><h4><a href="#md:delete-providersid">DELETE /providers/:id:</a></h4><p>Eliminar un proveedor específico identificado por su ID. El ID del proveedor se proporciona como parte de la URL. Se manejan los casos en los que no se encuentra el proveedor o hay errores de servidor.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:furnitures" class="tsd-anchor"></a><h3><a href="#md:furnitures">/furnitures</a></h3><p>Proporciona funcionalidades para administrar muebles en el sistema.</p>
<a id="md:get-furnitures" class="tsd-anchor"></a><h4><a href="#md:get-furnitures">GET /furnitures</a></h4><p>Obtener todos los muebles o para buscar muebles por nombre, descripción, material, precio, etc. Si se proporcionan parámetros de búsqueda válidos, se realiza una búsqueda en la base de datos utilizando esos parámetros y se devuelve una lista de muebles que coinciden. Si no se proporcionan parámetros de búsqueda o los parámetros son inválidos, se devuelve un mensaje de error correspondiente.</p>
<a id="md:get-furnituresid" class="tsd-anchor"></a><h4><a href="#md:get-furnituresid">GET /furnitures/:id</a></h4><p>Obtener un mueble específico por su ID. El ID del mueble se proporciona como parte de la URL. Si se encuentra un mueble con el ID proporcionado, se devuelve ese mueble. Si no se encuentra ningún mueble con el ID proporcionado, se devuelve un mensaje de error.</p>
<a id="md:post-furnitures" class="tsd-anchor"></a><h4><a href="#md:post-furnitures">POST /furnitures</a></h4><p>Crear un nuevo mueble. Se espera que los datos del mueble se proporcionen en el cuerpo de la solicitud en formato JSON. Antes de crear el mueble, se realizan algunas comprobaciones, como verificar si la cantidad de muebles es 0, ya que parece que se requiere una transacción para agregar muebles con una cantidad distinta de 0.</p>
<a id="md:patch-furnitures" class="tsd-anchor"></a><h4><a href="#md:patch-furnitures">PATCH /furnitures</a></h4><p>Actualizar información sobre los muebles. Puede actualizar información de uno o varios muebles basándose en los parámetros de búsqueda proporcionados en el cuerpo de la solicitud. Antes de actualizar los muebles, se realizan algunas comprobaciones, como verificar si la cantidad de muebles es 0, ya que parece que se requiere una transacción para agregar muebles con una cantidad distinta de 0.</p>
<a id="md:patch-furnituresid" class="tsd-anchor"></a><h4><a href="#md:patch-furnituresid">PATCH /furnitures/:id</a></h4><p>Actualizar información sobre un mueble específico identificado por su ID. El ID del mueble se proporciona como parte de la URL. Se espera que los datos actualizados del mueble se proporcionen en el cuerpo de la solicitud en formato JSON.</p>
<a id="md:delete-furnituresid" class="tsd-anchor"></a><h4><a href="#md:delete-furnituresid">DELETE /furnitures/:id</a></h4><p>Eliminar un mueble específico por su ID. El ID del mueble se proporciona como parte de la URL. Si se encuentra un mueble con el ID proporcionado, se elimina y se devuelve un mensaje de éxito. Si no se encuentra ningún mueble con el ID proporcionado, se devuelve un mensaje de error.</p>
<a id="md:delete-furnitures" class="tsd-anchor"></a><h4><a href="#md:delete-furnitures">DELETE /furnitures</a></h4><p>Eliminar uno o varios muebles basándose en los parámetros de búsqueda proporcionados en el cuerpo de la solicitud. Antes de eliminar los muebles, se realizan algunas comprobaciones, como verificar si la cantidad de muebles es 0, ya que parece que se requiere una transacción para agregar muebles con una cantidad distinta de 0.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:transactions" class="tsd-anchor"></a><h3><a href="#md:transactions">/transactions</a></h3><p>Proporciona funcionalidades para administrar transacciones en el sistema.</p>
<a id="md:get-transactions" class="tsd-anchor"></a><h4><a href="#md:get-transactions">GET /transactions</a></h4><p>Obtener todas las transacciones o para buscar transacciones basadas en varios parámetros de consulta. Si no se proporcionan parámetros de consulta, se devuelven todas las transacciones. Si se proporciona un parámetro de consulta &#39;dni&#39;, se recuperan las transacciones asociadas al número de identificación del cliente. Si se proporciona un parámetro de consulta &#39;cif&#39;, se recuperan las transacciones asociadas al número de identificación fiscal del proveedor. Si se proporcionan los parámetros de consulta &#39;Idate&#39; y &#39;Fdate&#39;, se recuperan las transacciones dentro de un rango de fechas. Se manejan los casos en los que no se encuentran transacciones o hay errores de servidor.</p>
<a id="md:get-transactionsid" class="tsd-anchor"></a><h4><a href="#md:get-transactionsid">GET /transactions/:id</a></h4><p>Obtener una transacción específica por su ID. El ID de la transacción se proporciona como parte de la URL. Se busca la transacción en la base de datos utilizando el ID proporcionado y se devuelve si se encuentra. Se manejan los casos en los que no se encuentra la transacción o hay errores de servidor.</p>
<a id="md:post-transactions" class="tsd-anchor"></a><h4><a href="#md:post-transactions">POST /transactions</a></h4><p>Crear nuevas transacciones, ya sea ventas o compras. Los detalles de la transacción se esperan en el cuerpo de la solicitud en formato JSON. Se manejan los casos en los que no se encuentra el cliente o el proveedor asociado, así como los casos en los que hay errores en la creación de la transacción.</p>
<a id="md:patch-transactionsid" class="tsd-anchor"></a><h4><a href="#md:patch-transactionsid">PATCH /transactions/:id</a></h4><p>Actualizar información sobre una transacción específica identificada por su ID. Se manejan los casos en los que no se encuentra la transacción, no se pueden realizar ciertas actualizaciones o hay errores de servidor.</p>
<a id="md:delete-transactionsid" class="tsd-anchor"></a><h4><a href="#md:delete-transactionsid">DELETE /transactions/:id</a></h4><p>Eliminar una transacción específica identificada por su ID. El ID de la transacción se proporciona como parte de la URL. Se manejan los casos en los que no se encuentra la transacción o hay errores de servidor.</p>
<a id="md:delete-transactions" class="tsd-anchor"></a><h4><a href="#md:delete-transactions">DELETE /transactions</a></h4><p>Eliminar todas las transacciones o para eliminar transacciones en función de ciertos parámetros de consulta. Se manejan los casos en los que no se proporcionan los parámetros de consulta necesarios o hay errores de servidor.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:test-sobre-el-api" class="tsd-anchor"></a><h2><a href="#md:test-sobre-el-api">Test sobre el API</a></h2><a id="md:customers-1" class="tsd-anchor"></a><h3><a href="#md:customers-1">Customers</a></h3><p>Estos tests prueban diferentes aspectos de la API relacionados con las operaciones CRUD (Crear, Leer, Actualizar, Eliminar) para la entidad de cliente</p>
<a id="md:get-customers-1" class="tsd-anchor"></a><h4><a href="#md:get-customers-1">GET /customers:</a></h4><p>Prueba la recuperación de un cliente por su DNI.</p>
<p>Prueba la recuperación de todos los clientes.</p>
<p>Prueba la respuesta cuando no se encuentra un cliente con un DNI específico.</p>
<a id="md:get-customersid-1" class="tsd-anchor"></a><h4><a href="#md:get-customersid-1">GET /customers/:id:</a></h4><p>Prueba la recuperación de un cliente por su ID.</p>
<p>Prueba la respuesta cuando no se encuentra un cliente con un ID específico.</p>
<a id="md:post-customers-1" class="tsd-anchor"></a><h4><a href="#md:post-customers-1">POST /customers:</a></h4><p>Prueba la creación exitosa de un nuevo cliente.</p>
<p>Prueba la respuesta cuando se intenta crear un cliente con un DNI que ya existe.</p>
<p>Prueba la respuesta cuando se proporciona un número de teléfono no válido.</p>
<a id="md:patch-customers-1" class="tsd-anchor"></a><h4><a href="#md:patch-customers-1">PATCH /customers:</a></h4><p>Prueba la modificación exitosa de un cliente por su DNI.</p>
<p>Prueba la respuesta cuando se intenta modificar atributos no permitidos.</p>
<p>Prueba la respuesta cuando se intenta modificar un cliente que no existe.</p>
<a id="md:patch-customersid-1" class="tsd-anchor"></a><h4><a href="#md:patch-customersid-1">PATCH /customers/:id:</a></h4><p>Prueba la modificación exitosa de un cliente por su ID.</p>
<p>Prueba la respuesta cuando se intenta modificar atributos no permitidos.</p>
<p>Prueba la respuesta cuando se intenta modificar un cliente que no existe.</p>
<a id="md:delete-customersid-1" class="tsd-anchor"></a><h4><a href="#md:delete-customersid-1">DELETE /customers/:id:</a></h4><p>Prueba la eliminación exitosa de un cliente por su ID.</p>
<p>Prueba la respuesta cuando se intenta eliminar un cliente que no existe.</p>
<a id="md:delete-customers-1" class="tsd-anchor"></a><h4><a href="#md:delete-customers-1">DELETE /customers:</a></h4><p>Prueba la eliminación exitosa de un cliente por su DNI.</p>
<p>Prueba la respuesta cuando se intenta eliminar un cliente que no existe.</p>
<p>Prueba la respuesta cuando no se proporciona un DNI en el cuerpo de la solicitud.</p>
<a id="md:providers-1" class="tsd-anchor"></a><h3><a href="#md:providers-1">Providers</a></h3><p>Estos tests prueban diferentes aspectos de la API relacionados con las operaciones CRUD (Crear, Leer, Actualizar, Eliminar) para la entidad de proveedores</p>
<a id="md:get-providers-1" class="tsd-anchor"></a><h4><a href="#md:get-providers-1">GET /providers:</a></h4><p>Prueba la recuperación de un proveedor por su CIF.</p>
<p>Prueba la recuperación de todos los proveedores.</p>
<p>Prueba la respuesta cuando no se encuentra un proveedor con un CIF específico.</p>
<a id="md:get-providersid-1" class="tsd-anchor"></a><h4><a href="#md:get-providersid-1">GET /providers/:id:</a></h4><p>Prueba la recuperación de un proveedor por su ID.</p>
<p>Prueba la respuesta cuando no se encuentra un proveedor con un ID específico.</p>
<a id="md:post-providers-1" class="tsd-anchor"></a><h4><a href="#md:post-providers-1">POST /providers:</a></h4><p>Prueba la creación exitosa de un nuevo proveedor.</p>
<p>Prueba la respuesta cuando se intenta crear un proveedor con un CIF que ya existe.</p>
<p>Prueba la respuesta cuando se proporciona un número de teléfono no válido.</p>
<a id="md:patch-providers-1" class="tsd-anchor"></a><h4><a href="#md:patch-providers-1">PATCH /providers:</a></h4><p>Prueba la modificación exitosa de un proveedor por su CIF.</p>
<p>Prueba la respuesta cuando se intenta modificar atributos no permitidos.</p>
<p>Prueba la respuesta cuando se intenta modificar un proveedor que no existe.</p>
<a id="md:patch-providersid-1" class="tsd-anchor"></a><h4><a href="#md:patch-providersid-1">PATCH /providers/:id:</a></h4><p>Prueba la modificación exitosa de un proveedor por su ID.</p>
<p>Prueba la respuesta cuando se intenta modificar atributos no permitidos.</p>
<p>Prueba la respuesta cuando se intenta modificar un proveedor que no existe.</p>
<a id="md:delete-providersid-1" class="tsd-anchor"></a><h4><a href="#md:delete-providersid-1">DELETE /providers/:id:</a></h4><p>Prueba la eliminación exitosa de un proveedor por su ID.</p>
<p>Prueba la respuesta cuando se intenta eliminar un proveedor que no existe.</p>
<a id="md:delete-providers-1" class="tsd-anchor"></a><h4><a href="#md:delete-providers-1">DELETE /providers:</a></h4><p>Prueba la eliminación exitosa de un proveedor por su CIF.</p>
<p>Prueba la respuesta cuando se intenta eliminar un proveedor que no existe.</p>
<p>Prueba la respuesta cuando no se proporciona un CIF en el cuerpo de la
solicitud.</p>
<a id="md:furnitures-1" class="tsd-anchor"></a><h3><a href="#md:furnitures-1">Furnitures</a></h3><p>Estos tests prueban diferentes aspectos de la API relacionados con las operaciones CRUD (Crear, Leer, Actualizar, Eliminar) para la entidad de muebles</p>
<a id="md:get-furnitures-1" class="tsd-anchor"></a><h4><a href="#md:get-furnitures-1">GET /furnitures:</a></h4><p>Prueba la recuperación de todos los muebles.</p>
<p>Prueba la recuperación de muebles por nombre.</p>
<p>Prueba la respuesta cuando no se encuentra un mueble con un nombre específico.</p>
<p>Prueba la recuperación de muebles por material.</p>
<a id="md:get-furnituresid-1" class="tsd-anchor"></a><h4><a href="#md:get-furnituresid-1">GET /furnitures/:id:</a></h4><p>Prueba la recuperación de un mueble por su ID.</p>
<p>Prueba la respuesta cuando no se encuentra un mueble con un ID específico.</p>
<a id="md:post-furnitures-1" class="tsd-anchor"></a><h4><a href="#md:post-furnitures-1">POST /furnitures:</a></h4><p>Prueba la creación exitosa de un nuevo mueble.</p>
<p>Prueba la respuesta cuando se intenta crear un mueble con una cantidad distinta de 0.</p>
<p>Prueba la respuesta cuando faltan atributos obligatorios.</p>
<p>Prueba la respuesta cuando se intenta agregar una cantidad al crear un mueble.</p>
<a id="md:patch-furnituresid-1" class="tsd-anchor"></a><h4><a href="#md:patch-furnituresid-1">PATCH /furnitures/:id:</a></h4><p>Prueba la modificación exitosa de un mueble por su ID.</p>
<p>Prueba la respuesta cuando se intenta modificar un mueble que no existe.</p>
<p>Prueba la respuesta cuando se intenta agregar una cantidad al modificar un mueble.</p>
<a id="md:patch-furnitures-1" class="tsd-anchor"></a><h4><a href="#md:patch-furnitures-1">PATCH /furnitures:</a></h4><p>Prueba la modificación exitosa de un mueble por nombre y material.</p>
<p>Prueba la respuesta cuando se intenta modificar un mueble que no existe.</p>
<p>Prueba la respuesta cuando se intenta agregar una cantidad al modificar un mueble.</p>
<p>Prueba la respuesta cuando se proporcionan parámetros de búsqueda no válidos.</p>
<a id="md:delete-furnitures-1" class="tsd-anchor"></a><h4><a href="#md:delete-furnitures-1">DELETE /furnitures:</a></h4><p>Prueba la eliminación exitosa de un mueble por nombre.</p>
<p>Prueba la respuesta cuando se encuentran múltiples muebles coincidentes.</p>
<p>Prueba la respuesta cuando se proporcionan atributos de búsqueda no válidos.</p>
<a id="md:delete-furnituresid-1" class="tsd-anchor"></a><h4><a href="#md:delete-furnituresid-1">DELETE /furnitures/:id:</a></h4><p>Prueba la eliminación exitosa de un mueble por su ID.</p>
<p>Prueba la respuesta cuando no se encuentra un mueble con un ID específico.</p>
<p>Prueba la respuesta cuando el formato del ID del mueble no es válido.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:despliegue-api" class="tsd-anchor"></a><h2><a href="#md:despliegue-api">Despliegue API</a></h2><p>El proyecto tambien requería en última instancia de <strong>desplegar</strong> el <strong>API</strong>, para ello hacemos uso de dos herramientas: <strong>MogoDB Atlas</strong> y <strong>Render</strong></p>
<a id="md:mongodb-atlas" class="tsd-anchor"></a><h3><a href="#md:mongodb-atlas">MongoDB Atlas</a></h3><p>Debemos crearnos una cuenta en <strong>MongoDB Atlas</strong> y en ella crear un <em>cluster</em> donde alojar nuestra base de datos, luego posteriormente descargamos <strong>MongoDB Compass</strong>, que aunque realmente no es necesario nos permite contar con una <strong>interfaz gráfica</strong> de la base de datos que estamos usando. Para conectar la base de datos con <strong>Compass</strong> usamos el enlace propio de la base de datos que se encuentra en <strong>Atlas</strong>.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:render" class="tsd-anchor"></a><h3><a href="#md:render">Render</a></h3><p><strong>Render</strong> es una plataforma de alojamiento y <strong>despliegue</strong> que proporciona una infraestructura robusta y escalable para aplicaciones web y APIs. Su papel en el <strong>despliegue</strong> de APIs es facilitar el proceso de implementación y gestión de aplicaciones, pero lamentablemente no cuenta con una base de datos propia, es por ello que debemos de crear una variable de entorno <em>MOGODB_URL</em> que contenga el enlace a la base de datos que hemos creado previamente en <strong>MongoDB Atlas</strong>. También debemos añadir dos scripts en nuestro <em>package.json</em> que al ser usados en Render permiten desplegar el API por completo. Por último para que nuestro programa entienda que debe usar la variable de entorno <em>MOGODB_URL</em> debemos de modificar nuestra conección usando <em>&quot;proccess.env&quot;</em>.</p>
<pre><code class="language-ts"><span class="hl-6">connect</span><span class="hl-1">(</span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-5">MONGODB_URL</span><span class="hl-1">!)</span><br/><span class="hl-1">  .</span><span class="hl-6">then</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-8">&quot;Connected to the database&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-6">catch</span><span class="hl-1">(() </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-8">&quot;Something went wrong when conecting to the database&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-6">exit</span><span class="hl-1">(-</span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button>Copy</button></pre>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:peticiones" class="tsd-anchor"></a><h2><a href="#md:peticiones">Peticiones</a></h2><p>Una vez hayamos comprobado que el despliegue de la API funcione correctamente, podremos enviar peticiones a la API usando, en nuestro caso, la siguiente url: <em>&quot;<a href="https://ull-esit-inf-dsi-23-24-prct13-dsikea-api-822e.onrender.com">https://ull-esit-inf-dsi-23-24-prct13-dsikea-api-822e.onrender.com</a>&quot;</em></p>
<p>Aquí se muestran algunas de las peticiones que se llevan cabo usando ThunderClient en la ruta customers mostrando el correcto funcionamiento del API desplegada:</p>
<ul>
<li>Se realiza una petición GET a la ruta /customers y obtenemos una lista vacía ya que ahora mismo no se encuentra ningún dato en la base de datos sobre clientes:</li>
</ul>
<p><img src="images/peticiones-customers/peticion-post-customers.png" alt="Petición GET /customers"></p>
<ul>
<li>Creamos una petición POST adjuntando en el cuerpo el JSON necesario para la creación de un cliente:</li>
</ul>
<p><img src="images/peticiones-customers/peticion-post-customers.png" alt="Petición POST /customers"></p>
<ul>
<li>Volvemos a realizar la petición GET para comprobar que el cliente ha sido añadido:</li>
</ul>
<p><img src="images/peticiones-customers/peticion-get-customers-2.png" alt="Petición GET /customers luego de POST"></p>
<ul>
<li>En este punto podemos comprobar en Atlas si se ha creado el documento:</li>
</ul>
<p><img src="images/peticiones-customers/customer-compass.png" alt="Comprobación Atlas documento Customer"></p>
<ul>
<li>Comprobamos si se puede actualizar la información de un cliente usando su dni:</li>
</ul>
<p><img src="images/peticiones-customers/peticion-patch-customers.png" alt="Petición PATCH /customers"></p>
<ul>
<li>Comprobamos que haya surtido efecto en la base de datos realizando la petción GET y comprobando que los atributos hayan sido cambiados:</li>
</ul>
<p><img src="images/peticiones-customers/peticion-get-customers-3.png" alt="Petición GET /customers luego de PATCH"></p>
<ul>
<li>Por último eliminamos el cliente:</li>
</ul>
<p><img src="images/peticiones-customers/peticion-delete-customers.png" alt="Petición DELETE /customers"></p>
<ul>
<li>Y por supuesto, visualizamos a través de la petición GET si se ha eliminado correctamente:</li>
</ul>
<p><img src="images/peticiones-customers/peticion-get-customers-4.png" alt="Petición GET /customers luego de DELETE"></p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:conclusiones-del-proyecto" class="tsd-anchor"></a><h2><a href="#md:conclusiones-del-proyecto">Conclusiones del proyecto</a></h2><blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:referencias" class="tsd-anchor"></a><h2><a href="#md:referencias">Referencias</a></h2><p><a href="https://nodejs.org/docs/latest/api/fs.html">Node.js</a></p>
<p><a href="https://expressjs.com/es/guide/routing.html">Express</a></p>
<p><a href="https://mongoosejs.com/docs/guide.html">Mongoose</a></p>
<p><a href="https://www.mongodb.com/docs/manual/">MongoDB</a></p>
<p><a href="https://www.npmjs.com/package/validator">Validator</a></p>
<p><a href="https://www.npmjs.com/package/supertest">SuperTest</a></p>
<p><a href="https://www.mongodb.com/docs/atlas/">MongoDB Atlas</a></p>
<p><a href="https://render.com">Render</a></p>
<p><a href="https://ull-esit-inf-dsi-2324.github.io/nodejs-theory/">Apuntes Asignatura</a></p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:informe-práctica-13---dsikea-api-rest-con-nodeexpress"><span>Informe <wbr/>Práctica 13 -<wbr/> DSIkea: API REST con <wbr/>Node/<wbr/>Express</span></a><ul><li><a href="#md:manuel-david-gómez-alonso"><span>Manuel <wbr/>David <wbr/>Gómez <wbr/>Alonso</span></a></li><li><a href="#md:daniel-bensa-expósito-paz"><span>Daniel <wbr/>Bensa <wbr/>Expósito <wbr/>Paz</span></a></li><li><a href="#md:alejandro-javier-aguiar-pérez"><span>Alejandro <wbr/>Javier <wbr/>Aguiar <wbr/>Pérez</span></a></li><li><a href="#md:índice"><span>Índice</span></a></li><li><a href="#md:resumen-proyecto"><span>Resumen <wbr/>Proyecto</span></a></li><li><a href="#md:modelado-de-objetos-con-mongoose"><span>Modelado de objetos con <wbr/>Mongoose</span></a></li><li><ul><li><a href="#md:modelo-customer"><span>Modelo <wbr/>Customer</span></a></li><li><a href="#md:modelo-provider"><span>Modelo <wbr/>Provider</span></a></li><li><a href="#md:modelo-furniture"><span>Modelo <wbr/>Furniture</span></a></li><li><a href="#md:modelo-transaction"><span>Modelo <wbr/>Transaction</span></a></li></ul></li><li><a href="#md:rutas"><span>Rutas</span></a></li><li><ul><li><a href="#md:customers"><span>/customers</span></a></li><li><ul><li><a href="#md:get-customers"><span>GET /customers</span></a></li><li><a href="#md:get-customersid"><span>GET /customers/:id</span></a></li><li><a href="#md:post-customers"><span>POST /customers</span></a></li><li><a href="#md:patch-customers"><span>PATCH /customers</span></a></li><li><a href="#md:patch-customersid"><span>PATCH /customers/:id</span></a></li><li><a href="#md:delete-customers"><span>DELETE /customers</span></a></li><li><a href="#md:delete-customersid"><span>DELETE /customers/:id</span></a></li></ul></li><li><a href="#md:providers"><span>/providers</span></a></li><li><ul><li><a href="#md:get-providers"><span>GET /providers:</span></a></li><li><a href="#md:get-providersid"><span>GET /providers/:id:</span></a></li><li><a href="#md:post-providers"><span>POST /providers:</span></a></li><li><a href="#md:patch-providers"><span>PATCH /providers:</span></a></li><li><a href="#md:patch-providersid"><span>PATCH /providers/:id:</span></a></li><li><a href="#md:delete-providers"><span>DELETE /providers:</span></a></li><li><a href="#md:delete-providersid"><span>DELETE /providers/:id:</span></a></li></ul></li><li><a href="#md:furnitures"><span>/furnitures</span></a></li><li><ul><li><a href="#md:get-furnitures"><span>GET /furnitures</span></a></li><li><a href="#md:get-furnituresid"><span>GET /furnitures/:id</span></a></li><li><a href="#md:post-furnitures"><span>POST /furnitures</span></a></li><li><a href="#md:patch-furnitures"><span>PATCH /furnitures</span></a></li><li><a href="#md:patch-furnituresid"><span>PATCH /furnitures/:id</span></a></li><li><a href="#md:delete-furnituresid"><span>DELETE /furnitures/:id</span></a></li><li><a href="#md:delete-furnitures"><span>DELETE /furnitures</span></a></li></ul></li><li><a href="#md:transactions"><span>/transactions</span></a></li><li><ul><li><a href="#md:get-transactions"><span>GET /transactions</span></a></li><li><a href="#md:get-transactionsid"><span>GET /transactions/:id</span></a></li><li><a href="#md:post-transactions"><span>POST /transactions</span></a></li><li><a href="#md:patch-transactionsid"><span>PATCH /transactions/:id</span></a></li><li><a href="#md:delete-transactionsid"><span>DELETE /transactions/:id</span></a></li><li><a href="#md:delete-transactions"><span>DELETE /transactions</span></a></li></ul></li></ul></li><li><a href="#md:test-sobre-el-api"><span>Test sobre el API</span></a></li><li><ul><li><a href="#md:customers-1"><span>Customers</span></a></li><li><ul><li><a href="#md:get-customers-1"><span>GET /customers:</span></a></li><li><a href="#md:get-customersid-1"><span>GET /customers/:id:</span></a></li><li><a href="#md:post-customers-1"><span>POST /customers:</span></a></li><li><a href="#md:patch-customers-1"><span>PATCH /customers:</span></a></li><li><a href="#md:patch-customersid-1"><span>PATCH /customers/:id:</span></a></li><li><a href="#md:delete-customersid-1"><span>DELETE /customers/:id:</span></a></li><li><a href="#md:delete-customers-1"><span>DELETE /customers:</span></a></li></ul></li><li><a href="#md:providers-1"><span>Providers</span></a></li><li><ul><li><a href="#md:get-providers-1"><span>GET /providers:</span></a></li><li><a href="#md:get-providersid-1"><span>GET /providers/:id:</span></a></li><li><a href="#md:post-providers-1"><span>POST /providers:</span></a></li><li><a href="#md:patch-providers-1"><span>PATCH /providers:</span></a></li><li><a href="#md:patch-providersid-1"><span>PATCH /providers/:id:</span></a></li><li><a href="#md:delete-providersid-1"><span>DELETE /providers/:id:</span></a></li><li><a href="#md:delete-providers-1"><span>DELETE /providers:</span></a></li></ul></li><li><a href="#md:furnitures-1"><span>Furnitures</span></a></li><li><ul><li><a href="#md:get-furnitures-1"><span>GET /furnitures:</span></a></li><li><a href="#md:get-furnituresid-1"><span>GET /furnitures/:id:</span></a></li><li><a href="#md:post-furnitures-1"><span>POST /furnitures:</span></a></li><li><a href="#md:patch-furnituresid-1"><span>PATCH /furnitures/:id:</span></a></li><li><a href="#md:patch-furnitures-1"><span>PATCH /furnitures:</span></a></li><li><a href="#md:delete-furnitures-1"><span>DELETE /furnitures:</span></a></li><li><a href="#md:delete-furnituresid-1"><span>DELETE /furnitures/:id:</span></a></li></ul></li></ul></li><li><a href="#md:despliegue-api"><span>Despliegue API</span></a></li><li><ul><li><a href="#md:mongodb-atlas"><span>MongoDB <wbr/>Atlas</span></a></li><li><a href="#md:render"><span>Render</span></a></li></ul></li><li><a href="#md:peticiones"><span>Peticiones</span></a></li><li><a href="#md:conclusiones-del-proyecto"><span>Conclusiones del proyecto</span></a></li><li><a href="#md:referencias"><span>Referencias</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>p13-dsi-ikea</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>